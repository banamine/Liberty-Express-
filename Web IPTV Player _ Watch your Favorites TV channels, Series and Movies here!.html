<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web IPTV Player</title>
    <link rel="manifest" href="manifest.json">
    <link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/8.5.2/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Drop Zone Overlay -->
        <div id="dropZone" class="overlay hidden">
            <div class="drop-box">
                <p>Drag & Drop MP4 or M3U files here to add to playlist</p>
                <input type="file" id="fileInput" multiple accept=".mp4,.m3u,.m3u8" />
            </div>
        </div>

        <!-- Keypad Popup -->
        <div id="keypadPopup" class="overlay hidden">
            <div class="popup-content">
                <h3>Enter Channel Number</h3>
                <div id="keypad" class="keypad">
                    <button class="key" data-val="1">1</button>
                    <button class="key" data-val="2">2</button>
                    <button class="key" data-val="3">3</button>
                    <br>
                    <button class="key" data-val="4">4</button>
                    <button class="key" data-val="5">5</button>
                    <button class="key" data-val="6">6</button>
                    <br>
                    <button class="key" data-val="7">7</button>
                    <button class="key" data-val="8">8</button>
                    <button class="key" data-val="9">9</button>
                    <br>
                    <button class="key" data-val="0">0</button>
                    <button class="key clear">Clear</button>
                    <button class="key enter">Enter</button>
                </div>
                <p id="channelInput">Channel: --</p>
            </div>
        </div>

        <!-- Main Layout -->
        <nav id="sidebar" class="sidebar">
            <button id="menuToggle">☰</button>
            <div class="playlist-section">
                <h3>Playlist <button id="clearPlaylist">Clear</button></h3>
                <ul id="playlist" class="sortable"></ul>
            </div>
            <div id="groups"></div>
            <div class="favorites">
                <h3>Favorites ❤️</h3>
                <ul id="favorites"></ul>
            </div>
        </nav>

        <main id="main">
            <div class="channel-info">
                <h2 id="channelTitle">Select a channel</h2>
                <button id="favoritesToggle">❤️ Add to Favorites</button>
            </div>
            <video id="player" class="video-js vjs-default-skin" controls preload="auto" data-setup='{}'>
                <!-- Tracks added dynamically for captions -->
            </video>
            <div id="playbar" class="playbar">
                <button id="prev">⏮</button>
                <button id="playPause">▶</button>
                <button id="next">⏭</button>
                <input type="range" id="seek" min="0" max="100" value="0">
                <input type="range" id="volume" min="0" max="100" value="100">
                <button id="ccToggle">CC</button>
                <button id="keypadBtn">123</button>
            </div>
        </main>

        <!-- Transparent Overlay for Menus -->
        <div id="menuOverlay" class="overlay hidden"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
